(this["webpackJsonprewards-store"]=this["webpackJsonprewards-store"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){},52:function(e,t,c){},56:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var r=c(2),s=c.n(r),n=c(5),a=c(1),o=c(18),i=c.n(o),u=(c(42),c(43),c(4)),l=(c(44),c(0));function j(e){var t=e.infoTokens,c=e.color;return Object(l.jsxs)("div",{style:{background:c},className:"token",children:[Object(l.jsx)("p",{children:t}),Object(l.jsx)("img",{src:"./assets/coin.svg",alt:""})]})}c(46);var d=c(6),p=c(15);c(52);function b(){return Object(l.jsx)("div",{className:"navbar",children:Object(l.jsxs)("ul",{className:"navbar-ul",children:[Object(l.jsx)(p.b,{to:"/rewards-store/",className:"navbar-li",children:Object(l.jsx)("li",{children:"HOME"})}),Object(l.jsx)(p.b,{to:"/rewards-store/add-tokens",className:"navbar-li",children:Object(l.jsx)("li",{children:"ADD TOKENS"})}),Object(l.jsx)(p.b,{to:"/rewards-store/redeem-history",className:"navbar-li",children:Object(l.jsx)("li",{children:"REDEEM HISTORY"})})]})})}function h(e){e.shape;var t=Object(d.c)((function(e){return e.user.points})),c=Object(d.c)((function(e){return e.user.name}));return Object(l.jsx)("div",{className:"head",children:Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"header-shape",children:Object(l.jsx)("img",{className:"header-logo",src:"./assets/logo.svg",alt:"logo"})}),Object(l.jsx)(b,{}),Object(l.jsxs)("div",{className:"header-user-info",children:[Object(l.jsx)("p",{className:"header-user-info-name",children:c}),Object(l.jsx)(j,{infoTokens:t,color:"#EDEDED"})]})]})})}var O=c(14),x=(c(56),"https://coding-challenge-api.aerolab.co"),m={"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MGY0ODg2OTY3Mjk2ZTAwMTk5NjQxM2UiLCJpYXQiOjE2MjY2Mzg0NDF9.54w7aOKqVOwHW_JfOtaZUDNW4qOML_E8siZ2HFf52fI")},f=c(13),v=c.n(f),g=function(){var e=Object(n.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get(x+"/products",{headers:m});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(n.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get(x+"/user/me",{headers:m});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){return{type:"UPDATE_USER",payload:e}};function P(e){e.totalLength,e.currentData;var t=e.next,c=e.prev,r=e.currentPage,s=e.maxPage,n=Object(d.b)(),o=Object(a.useState)(),i=Object(O.a)(o,2),u=i[0],j=i[1];return Object(l.jsxs)("div",{className:"filter",children:[Object(l.jsxs)("div",{className:"filter-sort-options",children:[Object(l.jsxs)("p",{className:"filter-sort-options-pages",children:["Pagina ",r," de ",s]}),Object(l.jsx)("hr",{}),Object(l.jsx)("p",{className:"filter-sort-options-type",children:"Sort by:"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("select",{className:"filter-sort-options-categories",onChange:function(e){n({type:"FILTER_BY_CATEGORIE",payload:e.target.value}),j("")},children:[Object(l.jsx)("option",{value:"todos",hidden:!0,selected:!0,children:"Categories"}),Object(l.jsx)("option",{value:"todos",children:"Todos"}),Object(l.jsx)("option",{value:"Audio",children:"Audio"}),Object(l.jsx)("option",{value:"Cameras",children:"Cameras"}),Object(l.jsx)("option",{value:"Drones",children:"Drones"}),Object(l.jsx)("option",{value:"Gaming",children:"Gaming"}),Object(l.jsx)("option",{value:"Laptops",children:"Laptops"}),Object(l.jsx)("option",{value:"Monitors & TV",children:"Monitors & TV"}),Object(l.jsx)("option",{value:"PC Accesories",children:"PC Accesories"}),Object(l.jsx)("option",{value:"Phones",children:"Phones"}),Object(l.jsx)("option",{value:"Phone Accessories",children:"Phone Accessories"}),Object(l.jsx)("option",{value:"Smart Home",children:"Smart Home"}),Object(l.jsx)("option",{value:"Tablets & E-readers",children:"Tablets & E-readers"})]}),Object(l.jsx)("li",{className:"li ".concat("Lowest Price"===u?"selected":""),onClick:function(){var e;j("Lowest Price"),n({type:"LOWEST_PRICE",payload:e})},children:"Lowest Price"}),Object(l.jsx)("li",{className:"li ".concat("Highest Price"===u?"selected":""),onClick:function(){var e;j("Highest Price"),n({type:"HIGHEST_PRICE",payload:e})},children:"Highest Price"})]})]}),Object(l.jsxs)("div",{className:"filter-pages",children:[Object(l.jsx)("a",{className:"filter-pages-shape ".concat(r<2?"disabled":""),onClick:function(){c()},children:Object(l.jsx)("img",{src:"./assets/Shape2.png",alt:""})}),Object(l.jsx)("a",{className:"filter-pages-shape ".concat(r===s?"disabled":""),onClick:function(){t()},children:Object(l.jsx)("img",{src:"./assets/Shape.png",alt:""})})]})]})}c(74),c(75);var k=function(){var e=Object(n.a)(s.a.mark((function e(t){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={productId:t},e.prev=1,e.next=4,v.a.post(x+"/redeem",c,{headers:m});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),w=c(24),E=c.n(w),T=function(e,t){e?E()({title:"Success",text:"Everything is working, ".concat(t," with exit"),icon:"success",button:"Aceptar"}):E()({title:"Error",text:"Something went wrong, with ".concat(t),icon:"error",button:"Try again"})};function C(e){var t=e.name,c=e.img,r=e.category,o=e.cost,i=e.id,p=e.toBuy,b=Object(d.c)((function(e){return e.user.points})),h=Object(a.useState)(!1),x=Object(O.a)(h,2),m=x[0],f=x[1],v=Object(d.b)(),g=Object(u.f)();return Object(l.jsxs)("div",{className:"product",onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},children:[p?Object(l.jsxs)("div",{className:"product-hover ".concat(m?"":"hidden"),children:[Object(l.jsx)(j,{infoTokens:o,color:"linear-gradient(180deg, rgba(10, 212, 250, 0.86) 0%, rgba(37, 187, 241, 0.86) 100%);"}),b<o?Object(l.jsx)("a",{onClick:function(e){e.preventDefault(),g.push("/rewards-store/add-tokens")},children:"Add tokens"}):Object(l.jsx)("a",{onClick:Object(n.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v({type:"BUY_PRODUCT",payload:o}),e.next=3,k(i);case 3:return t=e.sent,e.t0=v,e.t1=N,e.next=8,y();case 8:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),T(t.status,"Redeem product");case 12:case"end":return e.stop()}}),e)}))),children:"Redeem now"})]}):"",Object(l.jsx)("img",{className:"product-img",src:c,alt:""}),p?Object(l.jsx)("div",{className:"product-buy",children:b<o?Object(l.jsx)(j,{infoTokens:"You need ".concat(o-b),color:"#616161"}):Object(l.jsx)("img",{className:"product-redeem-img",src:"./assets/".concat(m?"buy-white":"buy-blue",".svg")})}):"",Object(l.jsxs)("div",{className:"product-information",children:[Object(l.jsx)("p",{children:r}),Object(l.jsx)("h3",{children:t}),Object(l.jsxs)("p",{children:[o," $"]})]})]})}function I(e,t){var c=Object(a.useState)(1),r=Object(O.a)(c,2),s=r[0],n=r[1],o=Math.ceil(e.length/t);return{next:function(){n((function(e){return Math.min(e+1,o)}))},prev:function(){n((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);n((function(e){return Math.min(t,o)}))},currentData:function(){var c=(s-1)*t,r=c+t;return e.slice(c,r)},currentPage:s,maxPage:o}}function S(){var e=Object(d.c)((function(e){return e.filterProducts})),t=I(e,e.length>16?16:e.length),c=t.next,r=t.prev,s=(t.jump,t.currentData),n=t.currentPage,a=t.maxPage;return Object(l.jsxs)("div",{className:"products",children:[Object(l.jsx)(P,{totalLength:e.length,currentData:s(),next:c,prev:r,currentPage:n,maxPage:a}),Object(l.jsx)("hr",{className:"products-line"}),Object(l.jsx)("div",{className:"products-layout",children:s().map((function(e){return Object(l.jsx)(C,{name:e.name,img:e.img.url,category:e.category,cost:e.cost,id:e._id,toBuy:!0},e._id)}))}),Object(l.jsxs)("p",{className:"products-pages",children:["Pagina ",n," de ",a]}),Object(l.jsx)("hr",{className:"products-line"})]})}function D(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{}),Object(l.jsx)("div",{style:{backgroundImage:"url(./assets/header.png)"},className:"header-info",children:Object(l.jsx)("h1",{className:"header-info-tittle",children:"Electronics"})}),Object(l.jsx)(S,{})]})}c(77),c(78);var A=function(){var e=Object(n.a)(s.a.mark((function e(t){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={amount:t},e.prev=1,e.next=4,v.a.post(x+"/user/points",c,{headers:m});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();function M(){var e=Object(a.useState)(),t=Object(O.a)(e,2),c=t[0],r=t[1],o=Object(d.b)();return Object(l.jsxs)("div",{className:"form",children:[Object(l.jsxs)("div",{className:"form-div",children:[Object(l.jsx)("h1",{className:"form-tittle",children:"Add tokens"}),Object(l.jsx)("img",{src:"./assets/coin.svg",alt:""})]}),Object(l.jsxs)("select",{className:"form-select",value:c,onChange:function(e){return r(e.target.value)},name:"",id:"",children:[Object(l.jsx)("option",{selected:!0,hidden:!0,value:"",children:"Select the amount of tokens"}),Object(l.jsx)("option",{value:1e3,children:"1000"}),Object(l.jsx)("option",{value:5e3,children:"5000"}),Object(l.jsx)("option",{value:7500,children:"7500"})]}),Object(l.jsx)("input",{className:"form-input",type:"submit",value:"Submit",onClick:Object(n.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=12;break}return e.next=3,A(parseInt(c));case 3:return t=e.sent,e.t0=o,e.t1=N,e.next=8,y();case 8:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),T(t.status,"Add ".concat(c," points"));case 12:case"end":return e.stop()}}),e)})))})]})}function R(){return Object(l.jsxs)("div",{className:"add-tokens",children:[Object(l.jsx)(h,{shape:!0}),Object(l.jsx)("img",{className:"add-tokens-background",src:"./assets/header.png",alt:""}),Object(l.jsx)(M,{})]})}c(79);function _(){var e=Object(d.c)((function(e){return e.user.redeemHistory})),t=I(e,e.length>16?16:e.length),c=t.next,r=t.prev,s=(t.jump,t.currentData),n=t.currentPage,a=t.maxPage;return console.log(e),Object(l.jsxs)("div",{className:"history",children:[Object(l.jsx)(h,{}),Object(l.jsxs)("div",{className:"history-layout",children:[Object(l.jsxs)("div",{className:"history-information",children:[Object(l.jsxs)("p",{className:"history-information-pages",children:["Pagina ",n," de ",a]}),Object(l.jsxs)("div",{className:"history-pages",children:[Object(l.jsx)("a",{className:"history-pages-shape ".concat(n<2?"disabled":""),onClick:function(){r()},children:Object(l.jsx)("img",{src:"./assets/Shape2.png",alt:""})}),Object(l.jsx)("a",{className:"history-pages-shape ".concat(n===a?"disabled":""),onClick:function(){c()},children:Object(l.jsx)("img",{src:"./assets/Shape.png",alt:""})})]})]}),Object(l.jsx)("hr",{className:"history-line"}),Object(l.jsx)("div",{className:"history-products",children:s().map((function(e){return Object(l.jsx)(C,{name:e.name,img:e.img.url,category:e.category,cost:e.cost,id:e.productId,toBuy:!1},e.createDate)}))})]})]})}var L=function(){return Object(d.c)((function(e){return e})),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{exact:!0,path:"/rewards-store/",component:D}),Object(l.jsx)(u.a,{exact:!0,path:"/rewards-store/add-tokens",component:R}),Object(l.jsx)(u.a,{exact:!0,path:"/rewards-store/redeem-history",component:_})]})})},H=c(36),U=c(7),Y=function(e,t){switch(t.type){case"MOST_RECENT":return Object(U.a)(Object(U.a)({},e),{},{filterProducts:e.filterProducts.filter((function(e){return"Laptops"===e.category}))});case"LOWEST_PRICE":var c=e.filterProducts;return c.sort((function(e,t){return e.cost>t.cost?1:e.cost<t.cost?-1:0})),Object(U.a)(Object(U.a)({},e),{},{filterProducts:c});case"HIGHEST_PRICE":var r=e.filterProducts;return r.sort((function(e,t){return e.cost>t.cost?-1:e.cost<t.cost?1:0})),Object(U.a)(Object(U.a)({},e),{},{filterProducts:r});case"FILTER_BY_CATEGORIE":return Object(U.a)(Object(U.a)({},e),{},{filterProducts:e.products.filter((function(e){return"todos"===t.payload||e.category===t.payload}))});case"BUY_PRODUCT":return Object(U.a)(Object(U.a)({},e),{},{user:Object(U.a)(Object(U.a)({},e.user),{},{points:e.user.points-t.payload})});case"UPDATE_USER":return Object(U.a)(Object(U.a)({},e),{},{user:t.payload});default:return e}};c(80);function B(){return(B=Object(n.a)(s.a.mark((function e(){var t,c,r,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,e.next=5,y();case 5:c=e.sent,r={user:c,products:t,filterProducts:t},n=Object(H.a)(Y,r),i.a.render(Object(l.jsx)(d.a,{store:n,children:Object(l.jsx)(p.a,{children:Object(l.jsx)(L,{})})}),document.getElementById("root"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){B.apply(this,arguments)}()}},[[81,1,2]]]);
//# sourceMappingURL=main.23ccbedd.chunk.js.map